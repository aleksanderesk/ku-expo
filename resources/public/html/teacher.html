<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Manage Registration</title>
        <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
        <link href="/css/bootstrap-table.min.css" rel="stylesheet" type="text/css">
        <link href="/css/bootstrap-duallistbox.min.css" rel="stylesheet" type="text/css">
        <link href="/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css">
        <script src="/js/jquery-1.11.2.min.js" type="text/javascript"></script>
        <script src="/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="/js/bootstrap-table.min.js" type="text/javascript"></script>
        <script src="/js/jquery.bootstrap-duallistbox.min.js" type="text/javascript"></script>
        <script src="/js/bootstrap-timepicker.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/">KU Expo</a>
                </div>
                <div class="navbar-collapse collapse" id="navbar">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="/teacher">Teacher</a>
                        </li>
                        <li>
                            <a href="/group">Student Group</a>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <button class="btn btn-default navbar-btn" type="button">
                                <a href="/logout">Sign Off</a>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="container">
            <ul class="nav nav-tabs" id="operationTabs" role="tablist" style="margin-bottom: 15px;">
                <li class="active">
                    <a data-toggle="tab" href="#school">School</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#students">Students</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#teams">Teams</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#logistics">Logistics</a>
                </li>
            </ul>
            <div class="tab-content" id="content">
                <!-- School Tab -->
                <div class="tab-pane fade active in" id="school" role="tabpanel">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="btn-group pull-right">
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newSchool">
                                            <span class="glyphicon glyphicon-plus"></span>
                                            Add School
                                        </button>
                                    </div>
                                    <h5>Overview</h5>
                                </div>
                                <!-- Table -->
                                <div class="panel-body">
                                    <table id="schools-table" data-toggle="table" data-url="/teacher/schools" data-card-view="true" data-cache="false">
                                        <thead>
                                            <tr>
                                                <th data-field="id" data-visible="false">ID</th>
                                                <th data-field="name">School Name</th>
                                                <th data-field="address">Address</th>
                                            </tr>
                                        </thead>
                                    </table>
                                    <script>
                                        $(function() {
                                            $('#schools-table').bootstrapTable().on('click-row.bs.table', function(e, row, $element) {
                                                $('#school-id').val(row.id);
                                                $('#update-school-name').val(row.name);
                                                $('#update-school-address').val(row.address);
                                                $('#updateSchool').modal('toggle');
                                            });
                                        });
                                    </script>
                                </div>
                                <!-- New School Modal -->
                                <div class="modal fade" id="newSchool" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Add School</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="newSchoolForm">
                                                    <div class="form-group">
                                                        <label class="control-label">School Name</label>
                                                        <input id="new-school-name" type="text" class="form-control" name="name" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Address</label>
                                                        <input id="new-school-address" type="text" class="form-control" name="address" placeholder="Street, City, State and Zip" />
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="putSchool()" class="btn btn-primary">
                                                            <span class="glyphicon glyphicon-plus"></span>
                                                            Add
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function putSchool() {
                                                            $.ajax({
                                                                    url: '/teacher/schools',
                                                                    type: 'PUT',
                                                                    data: {
                                                                        name: $('#new-school-name').val(),
                                                                        address: $('#new-school-address').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#schools-table').bootstrapTable('refresh');
                                                                        $('#newSchool').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Update School Modal -->
                                <div class="modal fade" id="updateSchool" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Update School</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="updateSchoolForm">
                                                    <div class="form-group hidden" aria-hidden="true">
                                                        <label class="control-label">School ID</label>
                                                        <input id="school-id" type="text" class="form-control" name="id" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">School Name</label>
                                                        <input id="update-school-name" type="text" class="form-control" name="name" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Address</label>
                                                        <input id="update-school-address" type="text" class="form-control" name="address" />
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="deleteSchool()" class="btn btn-danger pull-right">
                                                            <span class="glyphicon glyphicon-remove"></span>
                                                            Delete
                                                        </button>
                                                        <button type="button" onclick="postSchool()" class="btn btn-info">
                                                            <span class="glyphicon glyphicon-edit"></span>
                                                            Update
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function deleteSchool() {
                                                            $.ajax({
                                                                    url: '/teacher/schools',
                                                                    type: 'DELETE',
                                                                    data: {
                                                                        id: $('#school-id').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#schools-table').bootstrapTable('refresh');
                                                                        $('#updateSchool').modal('toggle');
                                                                    }
                                                            });
                                                        }

                                                        function postSchool() {
                                                            $.ajax({
                                                                    url: '/teacher/schools',
                                                                    type: 'POST',
                                                                    data: {
                                                                        id: $('#school-id').val(),
                                                                        name: $('#update-school-name').val(),
                                                                        address: $('#update-school-address').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#schools-table').bootstrapTable('refresh');
                                                                        $('#updateSchool').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Students Tab -->
                <div class="tab-pane fade" id="students" role="tabpanel">
                    <div class="container-fluid">
                        <div class="row">
                             <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="btn-group pull-right">
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newStudent">
                                            <span class="glyphicon glyphicon-plus"></span>
                                            Add Student
                                        </button>
                                    </div>
                                    <h5>Overview</h5>
                                </div>
                                <!-- Table -->
                                <div class="panel-body">
                                    <table id="students-table" data-toggle="table" data-url="/teacher/students" data-card-view="true" data-cache="false">
                                        <thead>
                                            <tr>
                                                <th data-field="id" data-visible="false">ID</th>
                                                <th data-field="name">Student's Name</th>
                                                <th data-field="division">Division</th>
                                            </tr>
                                        </thead>
                                    </table>
                                    <script>
                                        $(function() {
                                            $('#students-table').bootstrapTable().on('click-row.bs.table', function(e, row, $element) {
                                                $('#student-id').val(row.id);
                                                $('#update-student-name').val(row.name);
                                                $('#update-student-division').val(row.division);
                                                $('#updateStudent').modal('toggle');
                                            });
                                        });
                                    </script>
                                </div>
                                <!-- New Student Modal -->
                                <div class="modal fade" id="newStudent" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Add Student</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="newStudentForm">
                                                    <div class="form-group">
                                                        <label class="control-label">Student Name</label>
                                                        <input id="new-student-name" type="text" class="form-control" name="name" placeholder="Firstname Lastname" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Division</label>
                                                        <select id="new-student-division" class="form-control">
                                                            <option>Elementary School</option>
                                                            <option>Middle School</option>
                                                            <option>High School</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="putStudent()" class="btn btn-primary">
                                                            <span class="glyphicon glyphicon-plus"></span>
                                                            Add
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function putStudent() {
                                                            $.ajax({
                                                                    url: '/teacher/students',
                                                                    type: 'PUT',
                                                                    data: {
                                                                        name: $('#new-student-name').val(),
                                                                        division: $('#new-student-division').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#students-table').bootstrapTable('refresh');
                                                                        $('#newStudent').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Update Student Modal -->
                                <div class="modal fade" id="updateStudent" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Update Student</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="updateStudentForm">
                                                    <div class="form-group hidden" aria-hidden="true">
                                                        <label class="control-label">Student ID</label>
                                                        <input id="student-id" type="text" class="form-control" name="id" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Student Name</label>
                                                        <input id="update-student-name" type="text" class="form-control" name="name" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Division</label>
                                                        <select id="update-student-division" class="form-control">
                                                            <option>Elementary School</option>
                                                            <option>Middle School</option>
                                                            <option>High School</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="deleteStudent()" class="btn btn-danger pull-right">
                                                            <span class="glyphicon glyphicon-remove"></span>
                                                            Delete
                                                        </button>
                                                        <button type="button" onclick="postStudent()" class="btn btn-info">
                                                            <span class="glyphicon glyphicon-edit"></span>
                                                            Update
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function deleteStudent() {
                                                            $.ajax({
                                                                    url: '/teacher/students',
                                                                    type: 'DELETE',
                                                                    data: {
                                                                        id: $('#student-id').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#students-table').bootstrapTable('refresh');
                                                                        $('#updateStudent').modal('toggle');
                                                                    }
                                                            });
                                                        }

                                                        function postStudent() {
                                                            $.ajax({
                                                                    url: '/teacher/students',
                                                                    type: 'POST',
                                                                    data: {
                                                                        id: $('#student-id').val(),
                                                                        name: $('#update-student-name').val(),
                                                                        division: $('#update-student-division').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#students-table').bootstrapTable('refresh');
                                                                        $('#updateStudent').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Teams Tab -->
                <div class="tab-pane fade" id="teams" role="tabpanel">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="btn-group pull-right">
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newTeam">
                                            <span class="glyphicon glyphicon-plus"></span>
                                            Add Team
                                        </button>
                                    </div>
                                    <h5>Overview</h5>
                                </div>
                                <!-- Table -->
                                <div class="panel-body">
                                    <table id="teams-table" data-toggle="table" data-url="/teacher/teams" data-card-view="true" data-cache="false">
                                        <thead>
                                            <tr>
                                                <th data-field="id" data-visible="false">ID</th>
                                                <th data-field="name">Team Name</th>
                                                <th data-field="division">Division</th>
                                                <th data-field="students">Students</th>
                                            </tr>
                                        </thead>
                                    </table>
                                    <script>
                                        $(function() {
                                            $('#teams-table').bootstrapTable().on('click-row.bs.table', function(e, row, $element) {
                                                $.ajax({
                                                    dataType: 'json',
                                                    url: '/teacher/students-division',
                                                    data: {
                                                        division: row.division
                                                    },
                                                    success: function(result) {
                                                        $('#update-students option').remove();
                                                        $.each(result, function() {
                                                            $('#update-students').append($("<option/>", {
                                                                value: this.id,
                                                                text: this.name
                                                            }));
                                                        });
                                                        $('#update-students').bootstrapDualListbox('refresh');
                                                    }
                                                });
                                                

                                                $('#team-id').val(row.id);
                                                $('#update-team-name').val(row.name);
                                                $('#update-team-division').val(row.division);
                                                $('#updateTeam').modal('toggle');
                                            });
                                        });
                                    </script>
                                </div>
                                <!-- New Team Modal -->
                                <div class="modal fade" id="newTeam" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Add Team</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="newTeamForm">
                                                    <div class="form-group">
                                                        <label class="control-label">Team Name</label>
                                                        <input id="new-team-name" type="text" class="form-control" name="name" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Division</label>
                                                        <select id="new-team-division" class="form-control">
                                                            <option>Elementary School</option>
                                                            <option>Middle School</option>
                                                            <option>High School</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="putTeam()" class="btn btn-primary">
                                                            <span class="glyphicon glyphicon-plus"></span>
                                                            Add
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function putTeam() {
                                                            $.ajax({
                                                                    url: '/teacher/teams',
                                                                    type: 'PUT',
                                                                    data: {
                                                                        name: $('#new-team-name').val(),
                                                                        division: $('#new-team-division').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#teams-table').bootstrapTable('refresh');
                                                                        $('#newTeam').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Update Team Modal -->
                                <div class="modal fade" id="updateTeam" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Update Team</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="updateTeamForm">
                                                    <div class="form-group hidden" aria-hidden="true">
                                                        <label class="control-label">Team ID</label>
                                                        <input id="team-id" type="text" class="form-control" name="id" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Team Name</label>
                                                        <input id="update-team-name" type="text" class="form-control" name="name" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Division</label>
                                                        <select id="update-team-division" class="form-control">
                                                            <option>Elementary School</option>
                                                            <option>Middle School</option>
                                                            <option>High School</option>
                                                        </select>
                                                    </div>
                                                    <hr>
                                                    <div class="form-group">
                                                        <select id="update-students" multiple="multiple" style="display: none;">
                                                        </select>
                                                    </div>
                                                    <script type="text/javascript">
                                                        var updateStudents = $('#update-students').bootstrapDualListbox({
                                                                nonSelectedListLabel: 'Students List',
                                                                selectedListLabel: 'Team Members'
                                                        });
                                                    </script>
                                                    <div class="form-group">
                                                        <button type="button" onclick="deleteTeam()" class="btn btn-danger pull-right">
                                                            <span class="glyphicon glyphicon-remove"></span>
                                                            Delete
                                                        </button>
                                                        <button type="button" onclick="postTeam()" class="btn btn-info">
                                                            <span class="glyphicon glyphicon-edit"></span>
                                                            Update
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function deleteTeam() {
                                                            $.ajax({
                                                                    url: '/teacher/teams',
                                                                    type: 'DELETE',
                                                                    data: {
                                                                        id: $('#team-id').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#teams-table').bootstrapTable('refresh');
                                                                        $('#updateTeam').modal('toggle');
                                                                    }
                                                            });
                                                        }

                                                        function postTeam() {
                                                            $.ajax({
                                                                    url: '/teacher/teams',
                                                                    type: 'POST',
                                                                    data: {
                                                                        id: $('#team-id').val(),
                                                                        name: $('#update-team-name').val(),
                                                                        division: $('#update-team-division').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#teams-table').bootstrapTable('refresh');
                                                                        $('#updateTeam').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Logistics Tab -->
                <div class="tab-pane fade" id="logistics" role="tabpanel">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="btn-group pull-right">
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newLogistics">
                                            <span class="glyphicon glyphicon-plus"></span>
                                            Add Logistics
                                        </button>
                                    </div>
                                    <h5>Overview</h5>
                                </div>
                                <!-- Table -->
                                <div class="panel-body">
                                    <table id="logistics-table" data-toggle="table" data-url="/teacher/logistics" data-card-view="true" data-cache="false">
                                        <thead>
                                            <tr>
                                                <th data-field="id" data-visible="false">ID</th>
                                                <th data-field="num_cars">Number Cars</th>
                                                <th data-field="num_buses">Number Buses</th>
                                                <th data-field="attend_opening">Attending Opening?</th>
                                                <th data-field="leave_early">Leaving Early?</th>
                                                <th data-field="leave_time">Leave Time</th>
                                                <th data-field="num_lunches">Number Lunches</th>
                                                <th data-field="xsmall_ts">Number Extra Small T-Shirts</th>
                                                <th data-field="small_ts">Number Small T-Shirts</th>
                                                <th data-field="medium_ts">Number Medium T-Shirts</th>
                                                <th data-field="large_ts">Number Large T-Shirts</th>
                                                <th data-field="xlarge_ts">Number Extra Large T-Shirts</th>
                                            </tr>
                                        </thead>
                                    </table>
                                    <script>
                                        $(function() {
                                            $('#logistics-table').bootstrapTable().on('click-row.bs.table', function(e, row, $element) {
                                                console.log(row);
                                                $('#logistics-id').val(row.id);
                                                $('#update-logistics-num-cars').val(row.num_cars);
                                                $('#update-logistics-num-buses').val(row.num_buses);
                                                // Translate readable booleans to checkbox values
                                                var attend_opening = false;
                                                if (row.attend_opening == "Yes") {
                                                    attend_opening = true;
                                                }
                                                $('#update-logistics-attend-opening').prop('checked', attend_opening);
                                                var leave_early = false;
                                                if (row.leave_early == "Yes") {
                                                    leave_early = true;
                                                }
                                                $('#update-logistics-leave-early').prop('checked', leave_early);
                                                $('#update-logistics-leave-time').val(row.leave_time);
                                                $('#update-logistics-num-lunches').val(row.num_lunches);
                                                $('#update-logistics-xsmall-ts').val(row.xsmall_ts);
                                                $('#update-logistics-small-ts').val(row.small_ts);
                                                $('#update-logistics-medium-ts').val(row.medium_ts);
                                                $('#update-logistics-large-ts').val(row.large_ts);
                                                $('#update-logistics-xlarge-ts').val(row.xlarge_ts);
                                                $('#updateLogistics').modal('toggle');
                                            });
                                        });
                                    </script>
                                </div>
                                <!-- New Logistics Modal -->
                                <div class="modal fade" id="newLogistics" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Add Logistics</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="newLogisticsForm">
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Cars</label>
                                                        <input id="new-logistics-num-cars" type="text" class="form-control" name="num-cars" />
                                                        <span class="help-block">How many cars (e.g. sedans, vans) will you be parking at KU campus?</span>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Buses</label>
                                                        <input id="new-logistics-num-buses" type="text" class="form-control" name="number-buses" />
                                                        <span class="help-block">How many buses will you be parking at KU campus?</span>

                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="new-logistics-attend-opening" type="checkbox" name="attend-opening" /> Attending Opening
                                                        </label>
                                                        <span class="help-block">Do you plan on attending the opening ceremonies at the KU Lied Center for the days you come?</span>

                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="new-logistics-leave-early" type="checkbox" name="leave-early" /> Leaving Early
                                                        </label>
                                                        <span class="help-block">Do you plan to leave Engineering Expo before the awards ceremonies for the days you come?</span>
                                                    </div>
                                                    <div id="new-time-field" class="input-append bootstrap-timepicker has-feedback">
                                                        <label class="control-label">Leave Time</label>
                                                        <input id="new-logistics-leave-time" type="text" class="form-control" name="leave-time" placeholder="3:00 PM" />
                                                        <i class="glyphicon glyphicon-time form-control-feedback"></i>
                                                        <span class="help-block">What time do you plan on leaving?</span>
                                                    </div>
                                                    <script type="text/javascript">
                                                        $('#new-logistics-leave-time').timepicker({
                                                            template: false,
                                                            defaultTime: '3:00 PM' 
                                                        });
                                                    </script>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Lunches</label>
                                                        <input id="new-logistics-num-lunches" type="text" class="form-control" name="num-lunches" />
                                                        <span class="help-block">How many lunches do you want to purchase? Engineering Expo can provide $3 lunches that include a hot dog, chips, and a soda.</span>

                                                    </div>
                                                    <hr>
                                                    <span class="help-block">Indicate below the number of T-shirts for each size that you would like to purchase.</span>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Small Extra T-Shirts</label>
                                                        <input id="new-logistics-xsmall-ts" type="text" class="form-control" name="xsmall-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Small T-Shirts</label>
                                                        <input id="new-logistics-small-ts" type="text" class="form-control" name="small-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Medium T-Shirts</label>
                                                        <input id="new-logistics-medium-ts" type="text" class="form-control" name="medium-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Large T-Shirts</label>
                                                        <input id="new-logistics-large-ts" type="text" class="form-control" name="large-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Extra Large T-Shirts</label>
                                                        <input id="new-logistics-xlarge-ts" type="text" class="form-control" name="xlarge-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="putLogistics()" class="btn btn-primary">
                                                            <span class="glyphicon glyphicon-plus"></span>
                                                            Add
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function putLogistics() {
                                                            var new_attend_opening = 0;
                                                            if ($('#new-logistics-attend-opening').prop('checked')) {
                                                                new_attend_opening = 1;
                                                            }

                                                            var new_leave_early = 0;
                                                            if ($('#new-logistics-leave-early').prop('checked')) {
                                                                new_leave_early = 1;
                                                            }

                                                            $.ajax({
                                                                    url: '/teacher/logistics',
                                                                    type: 'PUT',
                                                                    data: {
                                                                        num_cars: $('#new-logistics-num-cars').val(),
                                                                        num_buses: $('#new-logistics-num-buses').val(),
                                                                        attend_opening: new_attend_opening,
                                                                        leave_early: new_leave_early,
                                                                        leave_time: $('#new-logistics-leave-time').val(),
                                                                        num_lunches: $('#new-logistics-num-lunches').val(),
                                                                        xsmall_ts: $('#new-logistics-xsmall-ts').val(),
                                                                        small_ts: $('#new-logistics-small-ts').val(),
                                                                        medium_ts: $('#new-logistics-medium-ts').val(),
                                                                        large_ts: $('#new-logistics-large-ts').val(),
                                                                        xlarge_ts: $('#new-logistics-xlarge-ts').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#logistics-table').bootstrapTable('refresh');
                                                                        $('#newLogistics').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Update Logistics Modal -->
                                <div class="modal fade" id="updateLogistics" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                <h4 class="modal-title">Update Logistics</h4>
                                            </div>
                                            <div class="modal-body">
                                                <form id="updateLogisticsForm">
                                                    <div class="form-group hidden" aria-hidden="true">
                                                        <label class="control-label">Logistics ID</label>
                                                        <input id="logistics-id" type="text" class="form-control" name="id" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Cars</label>
                                                        <input id="update-logistics-num-cars" type="text" class="form-control" name="num-cars" />
                                                        <span class="help-block">How many cars (e.g. sedans, vans) will you be parking at KU campus?</span>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Buses</label>
                                                        <input id="update-logistics-num-buses" type="text" class="form-control" name="number-buses" />
                                                        <span class="help-block">How many buses will you be parking at KU campus?</span>

                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="update-logistics-attend-opening" type="checkbox" name="attend-opening" /> Attending Opening
                                                        </label>
                                                        <span class="help-block">Do you plan on attending the opening ceremonies at the KU Lied Center for the days you come?</span>

                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                            <input id="update-logistics-leave-early" type="checkbox" name="leave-early" /> Leaving Early
                                                        </label>
                                                        <span class="help-block">Do you plan to leave Engineering Expo before the awards ceremonies for the days you come?</span>
                                                    </div>
                                                    <div id="update-time-field" class="input-append bootstrap-timepicker has-feedback">
                                                        <label class="control-label">Leave Time</label>
                                                        <input id="update-logistics-leave-time" type="text" class="form-control" name="leave-time" placeholder="3:00 PM" />
                                                        <i class="glyphicon glyphicon-time form-control-feedback"></i>
                                                        <span class="help-block">What time do you plan on leaving?</span>
                                                    </div>
                                                    <script type="text/javascript">
                                                        $('#update-logistics-leave-time').timepicker({
                                                            template: false,
                                                        });
                                                    </script>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Lunches</label>
                                                        <input id="update-logistics-num-lunches" type="text" class="form-control" name="num-lunches" />
                                                        <span class="help-block">How many lunches do you want to purchase? Engineering Expo can provide $3 lunches that include a hot dog, chips, and a soda.</span>
                                                    </div>
                                                    <hr>
                                                    <span class="help-block">Indicate below the number of T-shirts for each size that you would like to purchase.</span>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Small Extra T-Shirts</label>
                                                        <input id="update-logistics-xsmall-ts" type="text" class="form-control" name="xsmall-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Small T-Shirts</label>
                                                        <input id="update-logistics-small-ts" type="text" class="form-control" name="small-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Medium T-Shirts</label>
                                                        <input id="update-logistics-medium-ts" type="text" class="form-control" name="medium-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Large T-Shirts</label>
                                                        <input id="update-logistics-large-ts" type="text" class="form-control" name="large-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label">Number of Extra Large T-Shirts</label>
                                                        <input id="update-logistics-xlarge-ts" type="text" class="form-control" name="xlarge-ts" />
                                                    </div>
                                                    <div class="form-group">
                                                        <button type="button" onclick="deleteLogistics()" class="btn btn-danger pull-right">
                                                            <span class="glyphicon glyphicon-remove"></span>
                                                            Delete
                                                        </button>
                                                        <button type="button" onclick="postLogistics()" class="btn btn-info">
                                                            <span class="glyphicon glyphicon-edit"></span>
                                                            Update
                                                        </button>
                                                    </div>
                                                    <script>
                                                        function deleteLogistics() {
                                                            $.ajax({
                                                                    url: '/teacher/logistics',
                                                                    type: 'DELETE',
                                                                    data: {
                                                                        id: $('#logistics-id').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#logistics-table').bootstrapTable('refresh');
                                                                        $('#updateLogistics').modal('toggle');
                                                                    }
                                                            });
                                                        }

                                                        function postLogistics() {
                                                            var update_attend_opening = 0;
                                                            if ($('#update-logistics-attend-opening').prop('checked')) {
                                                                update_attend_opening = 1;
                                                            }

                                                            var update_leave_early = 0;
                                                            if ($('#update-logistics-leave-early').prop('checked')) {
                                                                update_leave_early = 1;
                                                            }

                                                            $.ajax({
                                                                    url: '/teacher/logistics',
                                                                    type: 'POST',
                                                                    data: {
                                                                        id: $('#logistics-id').val(),
                                                                        num_cars: $('#update-logistics-num-cars').val(),
                                                                        num_buses: $('#update-logistics-num-buses').val(),
                                                                        attend_opening: update_attend_opening,
                                                                        leave_early: update_leave_early,
                                                                        leave_time: $('#update-logistics-leave-time').val(),
                                                                        num_lunches: $('#update-logistics-num-lunches').val(),
                                                                        xsmall_ts: $('#update-logistics-xsmall-ts').val(),
                                                                        small_ts: $('#update-logistics-small-ts').val(),
                                                                        medium_ts: $('#update-logistics-medium-ts').val(),
                                                                        large_ts: $('#update-logistics-large-ts').val(),
                                                                        xlarge_ts: $('#update-logistics-xlarge-ts').val()
                                                                    },
                                                                    success: function(result) {
                                                                        $('#logistics-table').bootstrapTable('refresh');
                                                                        $('#updateLogistics').modal('toggle');
                                                                    }
                                                            });
                                                        }
                                                    </script>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
